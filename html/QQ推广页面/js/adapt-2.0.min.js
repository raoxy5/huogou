!
    function(i, t) {
        "function" == typeof define && (define.amd || define.cmd) ? (t = t.call(), define("components/adapt/adapt",
            function(i, o) {
                o.pkg = function(i) {
                    var t = {};
                    return i.call(t),
                        t
                },
                    o.init = function(i, o) {
                        t.init(i, o)
                    },
                    o.openByMqq = function() {
                        t.openByMqq()
                    }
            })) : i.mqqAdapter = t(i)
    } (window,
        function(i, t) {
            var t = t || {};
            return function() {
                var i = function() {
                        var i = navigator.userAgent,
                            t = /(?:Windows Phone)/.test(i),
                            o = /(?:SymbianOS)/.test(i) || t,
                            n = /(?:Android)/.test(i),
                            e = /(?:Firefox)/.test(i),
                            a = (/(?:Chrome|CriOS)/.test(i), /(?:iPad|PlayBook)/.test(i) || n && !/(?:Mobile)/.test(i) || e && /(?:Tablet)/.test(i)),
                            r = /(?:iPhone)/.test(i) && !a,
                            d = !(r || n || o || a);
                        return {
                            isWindowsPhone: t,
                            isTablet: a,
                            isIPhone: r,
                            isAndroid: n,
                            isPc: d
                        }
                    } (),
                    o = {
                        msg: ["抱歉，本活动只限手机QQ用户参与", "抱歉，本活动只限IOS/Android手机QQ用户参与", "抱歉，本活动只限Android手机QQ用户参与", "抱歉，本活动只限IOS手机QQ用户参与", "", "本活动只限手机QQ用户参与，下载后再来吧！", "确认再次用手机QQ参与活动吗？"],
                        count: 0,
                        dialogCss: ['<style type="text/css">', '.ui-btn-group,.ui-btn-group-tiled{display:-webkit-box;width:100%;box-sizing:border-box}.ui-btn-group button,.ui-btn-group-tiled button{display:block;-webkit-box-flex:1}.ui-btn-group-tiled .ui-btn:first-child{margin-right:15px}.ui-btn-group button{color:#00a5e0;line-height:50px;height:48px;text-align:center;font-size:16px;border-right:1px #c8c7cc solid;width:100%;border-top:1px solid #c8c7cc}.ui-btn-group button:active{background-color:rgba(0,0,0,0.1)}.ui-btn-group button:last-child{border-right:none}.ui-btn-group-bottom{position:fixed;left:0;bottom:0;z-index:10;background-color:#fff}.ui-btn-group-bottom button{color:#00a5e0;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0, #f9f9f9), to(#e0e0e0))}.ui-btn-group-bottom button:active{background-color:none;color:rgba(0,165,224,0.4)}@media screen and (-webkit-min-device-pixel-ratio: 2){.ui-btn-group button{position:relative;border:0}.ui-btn-group button:before{content:"";position:absolute;-webkit-transform-origin:right top;width:0;border-right:1px solid #c8c7cc;right:0;top:0;bottom:0;-webkit-transform:scaleX(0.5)}.ui-btn-group button:after{content:"";position:absolute;-webkit-transform-origin:right top;left:0;right:0;height:0;border-top:1px solid #c8c7cc;top:0;-webkit-transform:scaleY(0.5)}.ui-btn-group button:last-child:before{border-right:none}}.adapter-ui-dialog{position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:99999;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-pack:center;-webkit-box-align:center;background:rgba(0,0,0,0.4);display:none;color:#000}.adapter-ui-dialog-notice{background:transparent}.adapter-ui-dialog.show{display:-webkit-box;display:box}.adapter-ui-dialog .adapter-ui-dialog-cnt{border-radius:6px;width:270px;-webkit-background-clip:padding-box;background-clip:padding-box;outline:none;pointer-events:auto;background-color:rgba(253,253,253,0.95);position:relative}.adapter-ui-dialog .adapter-ui-dialog-bd{min-height:71px;border-top-left-radius:6px;border-top-right-radius:6px;padding:18px;font-size:16px;display:-webkit-box;display:box;-webkit-box-pack:center;-webkit-box-align:center;-webkit-box-orient:vertical}.adapter-ui-dialog .adapter-ui-dialog-bd h4{margin-bottom:4px;font-size:16px;width:100%;text-align:center}.adapter-ui-dialog .adapter-ui-dialog-bd div{width:100%}.adapter-ui-dialog .adapter-ui-dialog-ft{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.adapter-ui-dialog .adapter-ui-dialog-ft button{height:42px;line-height:42px;background:transparent}.adapter-ui-dialog .adapter-ui-dialog-ft button:active{background:rgba(0,0,0,0.1)}.adapter-ui-dialog .adapter-ui-dialog-ft button:first-child{border-bottom-left-radius:6px;background-image:none}.adapter-ui-dialog .adapter-ui-dialog-ft button:last-child{border-bottom-right-radius:6px}.adapter-ui-dialog-notice .adapter-ui-dialog-cnt{width:130px;height:110px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-pack:center;-webkit-box-align:center;text-align:center;background:rgba(0,0,0,0.65);border-radius:6px;color:#fff}', "</style>"].join(""),
                        dialogHtml: ["", '<div style="display:none;" class="adapter-ui-dialog show" id="adapterDialog">', '<div class="adapter-ui-dialog-cnt">', '<div class="adapter-ui-dialog-bd">', "</div>", '<div class="adapter-ui-dialog-ft ui-btn-group">', '<button id="adapterCancelBtn" >取消</button>', '<button id="adapterOKBtn" >确定</button>', "</div>", "</div>", "</div>"].join(""),
                        isQQDomain: function() {
                            var i = window.location.host,
                                t = i.split(".").reverse();
                            return t[0] + t[1] == "comqq" || "qq.com" == i ? !0 : !1
                        },
                        isWeiXinCallBack: function(i) {
                            "object" == typeof WeixinJSBridge && "function" == typeof WeixinJSBridge.invoke ? i() : document.addEventListener ? document.addEventListener("WeixinJSBridgeReady", i, !1) : document.attachEvent && (document.attachEvent("WeixinJSBridgeReady", i), document.attachEvent("onWeixinJSBridgeReady", i))
                        },
                        openByMqq: function() {
                            function i() {
                                t.alert(t.msg[0],
                                    function() {
                                        t.forwardMqq()
                                    })
                            }
                            var t = this;
                            return t.isQQDomain() ? (t.isWeiXinCallBack(function() {
                                WeixinJSBridge.invoke("getInstallState", {
                                        packageUrl: "mqq://",
                                        packageName: "com.tencent.mobileqq"
                                    },
                                    function(i) {
                                        t.isWeiXin = !0;
                                        var o = i.err_msg;
                                        if (t.oz("45572"), o && o.indexOf("get_install_state:yes") > -1) {
                                            if (t.count > 0) return void t.showDialog({
                                                    content: t.msg[6]
                                                },
                                                function() {
                                                    t.forwardMqq()
                                                });
                                            t.count = t.count + 1,
                                                t.forwardMqq()
                                        } else t.showDialog({
                                                content: t.msg[5],
                                                oktext: "下载"
                                            },
                                            function() {
                                                t.downLoadMqq()
                                            }),
                                            t.oz("45573")
                                    })
                            }), void setTimeout(function() {
                                    window.WeixinJSBridge || t.isWeiXin || i()
                                },
                                1e3)) : void i()
                        },
                        queryString: function(i, t) {
                            var o = new RegExp("(^|&)" + i + "=([^&]*)(&|$)", "i"),
                                n = t ? "?" + t.split("?")[1] : window.location.search,
                                e = n.substr(1).match(o);
                            return null != e ? unescape(e[2]).replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/'/g, "&apos;").replace(/"/g, "&quot;") : null
                        },
                        forwardMqq: function() {
                            var i, t, o = window.location.href;
                            this.isQQDomain() ? window.location.href = "mqqapi://forward/url?url_prefix=" + btoa(o) + "&version=1&src_type=web": (i = this.queryString("mqqactid"), t = this.queryString("_wv") || 3, window.location.href = "http://vac.qq.com/lib/components/adapt/mqqproxyforward.html?_wv=" + t + "&mqqactid=" + i + "&url=" + encodeURIComponent(o) + "&v=" + Math.random())
                        },
                        downLoadMqq: function() {
                            this.oz(38173),
                                setTimeout(function() {
                                        location.href = "http://im.qq.com/mobileqq/touch/index.html"
                                    },
                                    200)
                        },
                        hideDialog: function() {
                            this.dialog.hide(),
                                this.dialog.find(".adapter-ui-dialog-bd").html(""),
                                this.hasShowDialog = !1
                        },
                        showDialog: function(i, t) {
                            var o = this,
                                n = this.dialog || $("#adapterDialog");
                            n.find(".adapter-ui-dialog-bd").html(i.content || ""),
                            0 == i.needCancelBtn && this.dialogCancelBtn.hide(),
                                this.dialogOkBtn.html(i.oktext || "确定").off("mousedown").on("mousedown",
                                    function() {
                                        o.hideDialog(),
                                        t && t()
                                    }),
                                n.show(),
                                o.hasShowDialog = !0
                        },
                        alert: function(i, t) {
                            var o = {
                                needCancelBtn: !1,
                                content: i
                            };
                            this.showDialog(o, t)
                        },
                        bindDialogEvent: function() {
                            var i, t = this;
                            t.hasBindDialog || ($("head").append(t.dialogCss), $("body").append(t.dialogHtml), t.dialog = i = $("#adapterDialog"), t.dialogOkBtn = $("#adapterOKBtn"), t.dialogCancelBtn = $("#adapterCancelBtn"), t.dialogCancelBtn.on("mousedown",
                                function() {
                                    t.hideDialog()
                                }), t.hasBindDialog = !0)
                        },
                        oz: function(i) {
                            var t = location.href.replace(location.search, ""),
                                o = "http://iyouxi.vip.qq.com/ams.php?_c=oz&opid=2&clk=" + i + "&actid=512052&t=" + (new Date).getTime() + "&pvsrc=" + t,
                                n = new Image(1, 1);
                            n.src = o
                        },
                        init: function(t) {
                            window.mqq && mqq.iOS && (mqq.QQVersion && "0" != mqq.QQVersion || (mqq.invoke("device", "qqVersion") && (mqq.QQVersion = mqq.invoke("device", "qqVersion")), this.oz(70130)));
                            var o, n = this,
                                e = n.msg,
                                a = !1,
                                r = t.fail,
                                d = t.success,
                                s = {
                                    ret: 1,
                                    ismqq: 0 == mqq.QQVersion ? !1 : !0,
                                    msg: "",
                                    msgid: "",
                                    callBack: function() {}
                                };
                            return n.oz(38189),
                            t.msg && $.extend(e, t.msg),
                                i.isWindowsPhone ? (s.msg = e[1], s.msgid = 1, s.callBack = function() {
                                    n.alert(s.msg)
                                },
                                r && r(s), void n.oz(38079)) : (n.bindDialogEvent(), "undefined" == typeof mqq ? (s.msg = "error", n.alert("加载异常！请稍后重试~"), void(r && r(s))) : (o = {
                                    iOSSupport: t.ios === !1 ? !1 : !0,
                                    andSupport: t.and === !1 ? !1 : !0,
                                    iosVersion: t.iosVersion || "4.6.1",
                                    andVersion: t.andVersion || "4.6.1"
                                },
                                    i.isIPhone || i.isAndroid ? mqq.iOS && o.iOSSupport === !1 ? (s.msg = e[2], s.msgid = 2, s.callBack = function() {
                                        n.alert(s.msg)
                                    },
                                    r && r(s), void n.oz(38075)) : mqq.android && 0 == o.andSupport ? (s.msg = e[3], s.msgid = 3, s.callBack = function() {
                                        n.alert(s.msg)
                                    },
                                    r && r(s), void n.oz(38076)) : (mqq.iOS && "0" != mqq.QQVersion && mqq.compare(o.iosVersion) < 0 && (a = o.iosVersion), mqq.android && "0" != mqq.QQVersion && mqq.compare(o.andVersion) < 0 && (a = o.andVersion), a ? (s.msg = e[4] || "你的手Q版本有点旧哦！请升级到手Q" + a + "以上。", s.msgid = 4, s.callBack = function() {
                                        n.showDialog({
                                                content: s.msg,
                                                oktext: "下载"
                                            },
                                            function() {
                                                n.downLoadMqq()
                                            })
                                    },
                                    r && r(s), void n.oz(38077)) : 0 == mqq.QQVersion ? (s.msg = e[0], s.msgid = 0, s.callBack = function() {
                                        n.openByMqq()
                                    },
                                    r && r(s), void n.oz(38171)) : (s.ret = 0, void(d && d(s)))) : (s.ismqq = !1, s.msg = e[0], s.msgid = 0, s.callBack = function() {
                                        n.alert(s.msg)
                                    },
                                    r && r(s), void n.oz(38172))))
                        }
                    };
                if (t.init = function(i, t) {
                        return o.init(i, t)
                    },
                        t.queryString = function(i) {
                            return o.queryString(i)
                        },
                        t.openByMqq = function() {
                            return o.openByMqq()
                        },
                        t.showDialog = function(i, t) {
                            return o.showDialog(i, t)
                        },
                        $("#mqqadapt")[0]) {
                    var n = $("#mqqadapt").attr("src");
                    t.init({
                        ios: "false" == t.queryString("ios", n) ? !1 : !0,
                        and: "false" == t.queryString("and", n) ? !1 : !0,
                        iosVersion: t.queryString("iosVersion", n),
                        andVersion: t.queryString("andVersion", n),
                        fail: function(i) {
                            i.callBack(),
                                t.initResult = i
                        },
                        success: function(i) {
                            t.initResult = i
                        }
                    })
                }
            } (),
                t
        });